import { NavigationBar } from "@components/ui/navigation-bar"
import { UilGithub } from '@iconscout/react-unicons@1.1.6'
import { LogoWithText } from "@components/icons"
import { Button } from "@components/button"
import cn from "classnames"

export const HomeButton = () => {
  return <Button title="Home" href="https://www.flightcontrol.dev/docs" transparent />
}

export const LogInButton = () => {
  return <Button title="Dashboard" href="https://app.flightcontrol.dev" transparent />
}

export const CreateAccountButton = () => {
  return <Button title="Create Account"  href="https://app.flightcontrol.dev/signup" />
}

export const navLinks = [
  // {
  //     title: "Home",
  //     Icon: HomeButton,
  //     href: "https://www.flightcontrol.dev"
  //   },
    {
      title: "Log In",
      Icon: LogInButton,
      href: "https://app.flightcontrol.dev"
    },
    {
      title: "Create Account",
      Icon: CreateAccountButton,
      href: "https://app.flightcontrol.dev/signup"
    }
  ]
  
export const tabLinks = [
    { title: "Documentation", href: "/docs/guides" },
    { title: "HTTP API", href: "/docs/http-api" },
    { title: "Troubleshooting", href: "/docs/troubleshooting" },
    { title: "Roadmap & Changelog", href: "/roadmap" },
  ]

export const Tab = ({ href, active, children }) => {
  return <a
    href={href}
    className={cn(
      "py-2 whitespace-nowrap font-medium text-sm hover:text-fuchsia-600", {
        "text-fuchsia-600 border-b-2 border-fuchsia-600": active,
        "text-blueGray-900 border-b-2 border-transparent": !active,
      })}>{ children }</a>
}

export const IconWithLink = () => {
  return <a href="/"><LogoWithText /></a>
}

export const TabbedNavbar = ({ path, searchData }) => {
  return <div className="flex flex-col bg-gray-50 border-b border-blueGray-100">
      <NavigationBar
        items={navLinks}
        searchData={searchData}
        Icon={<IconWithLink />}
        className="bg-gray-50"
        menuIconClassName="text-blueGray-900 w-6 h-6"
        menuIconBgClassName="hover:bg-fuchsia-50"
      />
      <div className="flex-grow" />
      <div className="px-6 flex flex-row items-center gap-8 overflow-x-auto hiddenScrollbar z-0">
        { tabLinks.map(l => {
          let active = false
          if (!path) {
            active = l.href === "/"
          } else {
            active = l.href !== "/" && path.startsWith(l.href)
          }
          return <Tab
              active={active}
              href={l.href}>
                {l.title}
              </Tab>
        })}
      </div>
    </div>
}

<TabbedNavbar />